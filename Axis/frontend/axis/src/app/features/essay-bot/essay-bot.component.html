<div class="flex flex-col px-20 py-2 gap-10 py-32 font-satoshi pb-48">
    <div class="flex justify-between mx-12">
        <div class="text-4xl font-semibold text-[var(--mainText)]">{{essayTitle}}</div>
        <div class="flex justify-center gap-4">
          <button class="flex justify-center items-center w-12 h-12 bg-[var(--mainBg)] rounded-full hover:bg-[var(--accentBg)] transition">
            <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
              <polyline points="17 21 17 13 7 13 7 21"/>
              <polyline points="7 3 7 8 15 8"/>
            </svg>
          </button>
          <button
            (click)="downloadEssay()"
            class="flex justify-center items-center w-12 h-12 bg-[var(--mainBg)] rounded-full hover:bg-[var(--accentBg)] transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                <polyline points="7 10 12 15 17 10"/>
                <line x1="12" y1="15" x2="12" y2="3"/>
              </svg>
          </button>
        </div>
    </div>
    <div class="flex gap-8 mx-12">
        <div class="w-[70%] bg-[var(--essayBg)] min-h-[700px] rounded-md">
          <editor
            [(ngModel)]="essayText"
            apiKey=environment.tinymceApiKey
            [init]="editorConfig"
          ></editor>
        </div>
        <div class="flex w-[30%] flex-col justify-between bg-[var(--essayBg)] self-start h-[700px]">
            <div class="w-full py-3 px-8 text-2xl rounded-md mt-3 my-2">
                Essay Bot
            </div>

            <div id="tobechanged" class="scrollbar-hide flex-1 min-h-0 overflow-y-auto p-4 flex flex-col gap-3">
              <div *ngFor="let log of chatLog">
                  @if(log.role=="user") {
                      <div class="justify-self-end w-fit bg-[--buttonDisabled] shadow-md shadow-[--accent] px-3 py-1 m-1 ml-4 rounded-md">{{log.content}}</div>
                  } @else {
                      <div class="w-fit bg-[--buttonDisabled] shadow-md shadow-[--accentBright] px-3 py-1 m-1 mr-4 rounded-md">{{log.content}}</div>  
                  }
              </div>
            </div>
            <div>
                <form name="searchForm" (ngSubmit)="submitMessage()">
                    <input type="search" name="message" [(ngModel)]="message" autocomplete="off" placeholder="Type a message..." class="border-0 outline-none py-2 px-4 no-clear w-full text-[var(--ddgrey)] text-lg shadow rounded-b-md" >
                    <input type="submit" style="display: none;">
                </form>
            </div>
        </div>
    </div>
</div>

